<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0">
    <meta name="TEMPLATEBASE" content="Simple HTML">
    <meta name="LASTUPDATED" content="02/17/09 17:22:09">
    <title>REVOKE</title>
  </head>

  <body link="#99cc33" vlink="#666699" text="#000000" alink="#FFCC66" bgcolor="#FFFFFF">

    <table width="250" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<strong><font color="#000000" size="1" face="Arial, Helvetica, sans-serif">Greenplum Database 3.3 SQL Reference</font></strong></td>
      </tr>
	  <tr> 
        <td>
          <p><font size="1" face="Arial, Helvetica, sans-serif">Last Updated: February 17, 2009</font></p>
        </td>
      </tr>
	  <tr> 
        <td>
<a href="RESET.html"><img src="images/sprev.gif" border="0" alt="Previous"></a><a href="ROLLBACK.html"><img src="images/snext.gif" border="0" alt="Next"></a><a href="IX.html"><img src="images/sindex.gif" border="0" alt="Index"></a>
        </td>
      </tr>
	  
    </table>

    <img src="images/GreenplumLogo.jpg" alt="Greenplum" width="212" height="58">
    <hr color="#99CC33" align="left">

    <br>
<a name="wp20941"> </a><h2><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="6"><b>
REVOKE
</b></font></h2>
<hr color="#99cc33" align="left">
<a name="wp155524"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Removes access privileges.
</font></div>
<a name="wp155546"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Synopsis
</b></font></h3>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] { {SELECT | INSERT | UPDATE | DELETE </font></p><a name="wp155696"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;| REFERENCES | TRIGGER} [,...] | ALL [PRIVILEGES] }</font><a name="wp155794"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON [TABLE] <code><font face="Courier New, Courier, mono" size="2"><i>tablename</i></font></code> [, ...]</font><a name="wp155788"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM {<code><font face="Courier New, Courier, mono" size="2"><i>rolename</i></font></code> | PUBLIC} [, ...]</font><a name="wp155700"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155701"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] { {USAGE | SELECT | UPDATE} [,...] </font></p><a name="wp155703"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;| ALL [PRIVILEGES] }</font><a name="wp155815"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON SEQUENCE <code><font face="Courier New, Courier, mono" size="2"><i>sequencename</i></font></code> [, ...]</font><a name="wp155706"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM { <code><font face="Courier New, Courier, mono" size="2"><i>rolename</i></font></code> | PUBLIC } [, ...]</font><a name="wp155707"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155708"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] { {CREATE | CONNECT </font></p><a name="wp155710"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;| TEMPORARY | TEMP} [,...] | ALL [PRIVILEGES] }</font><a name="wp156309"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON DATABASE <code><font face="Courier New, Courier, mono" size="2"><i>dbname</i></font></code> [, ...]</font><a name="wp155712"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM {rolename | PUBLIC} [, ...]</font><a name="wp155713"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155714"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] {EXECUTE | ALL [PRIVILEGES]}</font></p><a name="wp155716"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON FUNCTION <code><font face="Courier New, Courier, mono" size="2"><i>funcname</i></font></code> ( [[<code><font face="Courier New, Courier, mono" size="2"><i>argmode</i></font></code>] [<code><font face="Courier New, Courier, mono" size="2"><i>argname</i></font></code>] <code><font face="Courier New, Courier, mono" size="2"><i>argtype</i></font></code> </font><a name="wp155718"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[, ...]] ) [, ...]</font><a name="wp156368"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM {<code><font face="Courier New, Courier, mono" size="2"><i>rolename</i></font></code> | PUBLIC} [, ...]</font><a name="wp155719"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155720"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] {USAGE | ALL [PRIVILEGES]}</font></p><a name="wp155722"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON LANGUAGE <code><font face="Courier New, Courier, mono" size="2"><i>langname</i></font></code> [, ...]</font><a name="wp155724"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM {<code><font face="Courier New, Courier, mono" size="2"><i>rolename</i></font></code> | PUBLIC} [, ...]</font><a name="wp155725"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[ CASCADE | RESTRICT ]</font><a name="wp155726"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] { {CREATE | USAGE} [,...] </font></p><a name="wp155728"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;| ALL [PRIVILEGES] }</font><a name="wp156484"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON SCHEMA <code><font face="Courier New, Courier, mono" size="2"><i>schemaname</i></font></code> [, ...]</font><a name="wp155730"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM {<code><font face="Courier New, Courier, mono" size="2"><i>rolename</i></font></code> | PUBLIC} [, ...]</font><a name="wp155731"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155732"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [GRANT OPTION FOR] { CREATE | ALL [PRIVILEGES] }</font></p><a name="wp155734"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;ON TABLESPACE <code><font face="Courier New, Courier, mono" size="2"><i>tablespacename</i></font></code> [, ...]</font><a name="wp155736"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM { <code><font face="Courier New, Courier, mono" size="2"><i>rolename</i></font></code> | PUBLIC } [, ...]</font><a name="wp155737"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155738"> </a>
</pre>
<p><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE [ADMIN OPTION FOR] <code><font face="Courier New, Courier, mono" size="2"><i>parent_role</i></font></code> [, ...] </font></p><a name="wp155740"> </a>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FROM <code><font face="Courier New, Courier, mono" size="2"><i>member_role</i></font></code> [, ...]</font><a name="wp156545"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;[CASCADE | RESTRICT]</font><a name="wp155547"> </a>
</pre>
<a name="wp155548"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Description
</b></font></h3>
<a name="wp156571"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
<code><font face="Courier New, Courier, mono" size="2">REVOKE</font></code> command revokes previously granted privileges from one or more roles. The key word <code><font face="Courier New, Courier, mono" size="2">PUBLIC</font></code> refers to the implicitly defined group of all roles. 
</font></p>
<a name="wp156573"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
See the description of the <a href="GRANT.html">GRANT</a> command for the meaning of the privilege types. 
</font></p>
<a name="wp156575"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Note that any particular role will have the sum of privileges granted directly to it, privileges granted to any role it is presently a member of, and privileges granted to <code><font face="Courier New, Courier, mono" size="2">PUBLIC</font></code>. Thus, for example, revoking <code><font face="Courier New, Courier, mono" size="2">SELECT</font></code> privilege from <code><font face="Courier New, Courier, mono" size="2">PUBLIC</font></code> does not necessarily mean that all roles have lost <code><font face="Courier New, Courier, mono" size="2">SELECT</font></code> privilege on the object: those who have it granted directly or via another role will still have it.
</font></p>
<a name="wp156577"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
If <code><font face="Courier New, Courier, mono" size="2">GRANT OPTION FOR</font></code> is specified, only the grant option for the privilege is revoked, not the privilege itself. Otherwise, both the privilege and the grant option are revoked. 
</font></p>
<a name="wp156579"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
If a role holds a privilege with grant option and has granted it to other roles then the privileges held by those other roles are called dependent privileges. If the privilege or the grant option held by the first role is being revoked and dependent privileges exist, those dependent privileges are also revoked if <code><font face="Courier New, Courier, mono" size="2">CASCADE</font></code> is specified, else the revoke action will fail. This recursive revocation only affects privileges that were granted through a chain of roles that is traceable to the role that is the subject of this <code><font face="Courier New, Courier, mono" size="2">REVOKE</font></code> command. Thus, the affected roles may effectively keep the privilege if it was also granted through other roles. 
</font></p>
<a name="wp156581"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
When revoking membership in a role, <code><font face="Courier New, Courier, mono" size="2">GRANT OPTION</font></code> is instead called <code><font face="Courier New, Courier, mono" size="2">ADMIN OPTION</font></code>, but the behavior is similar.
</font></p>
<a name="wp143248"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Parameters
</b></font></h3>
<a name="wp155620"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
See <a href="GRANT.html">GRANT</a>.
</font></div>
<a name="wp154444"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Examples
</b></font></h3>
<a name="wp156199"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Revoke insert privilege for the public on table films: 
</font></p>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE INSERT ON films FROM PUBLIC;</font><a name="wp156201"> </a>
</pre>
<a name="wp156202"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Revoke all privileges from role sally on view topten. Note that this actually means revoke all privileges that the current role granted (if not a superuser).
</font></p>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE ALL PRIVILEGES ON topten FROM sally; </font><a name="wp156204"> </a>
</pre>
<a name="wp156206"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Revoke membership in role admins from user joe: 
</font></p>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">REVOKE admins FROM joe; </font><a name="wp155492"> </a>
</pre>
<a name="wp154035"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Compatibility
</b></font></h3>
<a name="wp156155"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
The compatibility notes of the <a href="GRANT.html">GRANT</a> command also apply to <code><font face="Courier New, Courier, mono" size="2">REVOKE</font></code>. 
</font></p>
<a name="wp156174"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
One of <code><font face="Courier New, Courier, mono" size="2">RESTRICT</font></code> or <code><font face="Courier New, Courier, mono" size="2">CASCADE</font></code> is required according to the standard, but Greenplum Database assumes <code><font face="Courier New, Courier, mono" size="2">RESTRICT</font></code> by default.
</font></p>
<a name="wp140235"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
See Also
</b></font></h3>
<a name="wp152557"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
<a href="GRANT.html">GRANT</a>
</font></p>
    <br>
    <hr color="#99CC33" align="left"> 

    <table width="157" border="0" align="right" cellpadding="0" cellspacing="0">
  <tr valign="top"> 
    <td width="157"  align="left"><p> 
        <font size="1"><font size="1"><font face="Arial, Helvetica, sans-serif">Greenplum Customer Support <br>
		
        1-866-410-6060
</font></font></font><font size="1"><font face="Arial, Helvetica, sans-serif"><br>
<a href="mailto://support@greenplum.com">support@greenplum.com
</a><br>
</font> </font> <font size="1"><a href="http://gpn.greenplum.com"><font face="Arial, Helvetica, sans-serif"> www.gpn.greenplum.com</font></a></font>  <font size="1"></font> <font size="1"></font> <font size="1"><br>
        </font> </p></td>
  </tr>
</table>
	

    


    <table width="250" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a href="RESET.html"><img src="images/sprev.gif" border="0" alt="Previous"></a><a href="ROLLBACK.html"><img src="images/snext.gif" border="0" alt="Next"></a><a href="IX.html"><img src="images/sindex.gif" border="0" alt="Index"></a>
        </td>
      </tr>
	  <tr> 
        <td>
          <p><strong><font color="#000000" size="1" face="Arial, Helvetica, sans-serif">Greenplum Database 3.3 SQL Reference</font></strong></p>
        </td>
      </tr>
	  <tr> 
        <td>
          <p><font size="1" face="Arial, Helvetica, sans-serif">Last Updated: February 17, 2009</font></p>
        </td>
      </tr>
    </table>
      
  </body>
</html>
