<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0">
    <meta name="TEMPLATEBASE" content="Simple HTML">
    <meta name="LASTUPDATED" content="02/17/09 17:21:48">
    <title>CREATE CONVERSION</title>
  </head>

  <body link="#99cc33" vlink="#666699" text="#000000" alink="#FFCC66" bgcolor="#FFFFFF">

    <table width="250" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<strong><font color="#000000" size="1" face="Arial, Helvetica, sans-serif">Greenplum Database 3.3 SQL Reference</font></strong></td>
      </tr>
	  <tr> 
        <td>
          <p><font size="1" face="Arial, Helvetica, sans-serif">Last Updated: February 17, 2009</font></p>
        </td>
      </tr>
	  <tr> 
        <td>
<a href="CREATE_CAST.html"><img src="images/sprev.gif" border="0" alt="Previous"></a><a href="CREATE_DATABASE.html"><img src="images/snext.gif" border="0" alt="Next"></a><a href="IX.html"><img src="images/sindex.gif" border="0" alt="Index"></a>
        </td>
      </tr>
	  
    </table>

    <img src="images/GreenplumLogo.jpg" alt="Greenplum" width="212" height="58">
    <hr color="#99CC33" align="left">

    <br>
<a name="wp20941"> </a><h2><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="6"><b>
CREATE CONVERSION
</b></font></h2>
<hr color="#99cc33" align="left">
<a name="wp133181"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Defines a new encoding conversion.
</font></div>
<a name="wp132855"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Synopsis
</b></font></h3>
<p><font color="Black" face="Courier New, Courier, mono" size="2">CREATE [DEFAULT] CONVERSION <code><font face="Courier New, Courier, mono" size="2"><i>name </i></font></code>FOR <code><font face="Courier New, Courier, mono" size="2"><i>source_encoding</i></font></code> TO <code><font face="Courier New, Courier, mono" size="2"><i>dest_encoding</i></font></code> FROM <code><font face="Courier New, Courier, mono" size="2"><i>funcname</i></font></code></font></p><a name="wp140878"> </a>
<a name="wp118843"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Description
</b></font></h3>
<a name="wp140899"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
<code><font face="Courier New, Courier, mono" size="2">CREATE CONVERSION</font></code> defines a new conversion between character set encodings. Conversion names may be used in the convert function to specify a particular encoding conversion. Also, conversions that are marked <code><font face="Courier New, Courier, mono" size="2">DEFAULT</font></code> can be used for automatic encoding conversion between client and server. For this purpose, two conversions, from encoding A to B and from encoding B to A, must be defined. 
</font></p>
<a name="wp140901"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
To create a conversion, you must have <code><font face="Courier New, Courier, mono" size="2">EXECUTE</font></code> privilege on the function and <code><font face="Courier New, Courier, mono" size="2">CREATE</font></code> privilege on the destination schema.
</font></p>
<a name="wp138453"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Parameters
</b></font></h3>
<a name="wp140929"> </a><h6><font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b>
DEFAULT
</b></font></h6>
<a name="wp140930"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Indicates that this conversion is the default for this particular source to destination encoding. There should be only one default encoding in a schema for the encoding pair. 
</font></div>
<a name="wp140932"> </a><h6><font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b>
<font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b><i>name</i></b></font>
</b></font></h6>
<a name="wp140933"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
The name of the conversion. The conversion name may be schema-qualified. If it is not, the conversion is defined in the current schema. The conversion name must be unique within a schema. 
</font></div>
<a name="wp140935"> </a><h6><font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b>
<font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b><i>source_encoding</i></b></font>
</b></font></h6>
<a name="wp140936"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
The source encoding name. 
</font></div>
<a name="wp140938"> </a><h6><font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b>
<font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b><i>dest_encoding</i></b></font>
</b></font></h6>
<a name="wp140939"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
The destination encoding name. 
</font></div>
<a name="wp140941"> </a><h6><font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b>
<font color="#E5B53A" face="Arial, Verdana, Helvetica, sans-serif" size="2"><b><i>funcname</i></b></font>
</b></font></h6>
<a name="wp140942"> </a><div><font color="#000000" face="Arial, Verdana, Helvetica, sans-serif" size="2">
The function used to perform the conversion. The function name may be schema-qualified. If it is not, the function will be looked up in the path. The function must have the following signature: 
</font></div>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">conv_proc(</font><a name="wp140946"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">    integer,  -- source encoding ID</font><a name="wp140947"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">    integer,  -- destination encoding ID</font><a name="wp140948"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">    cstring,  -- source string (null terminated C string)</font><a name="wp140949"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">    internal, -- destination (fill with a null terminated C string)</font><a name="wp140950"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">    integer   -- source string length</font><a name="wp140951"> </a>
<font color="Black" face="Courier New, Courier, mono" size="2">) RETURNS void;</font><a name="wp140952"> </a>
</pre>
<a name="wp139173"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Notes
</b></font></h3>
<a name="wp140783"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
Note that in this release of Greenplum Database, user-defined functions used in a user-defined conversion must be defined as <code><font face="Courier New, Courier, mono" size="2">IMMUTABLE</font></code>. Any compiled code (shared library files) for custom functions must be placed in the same location on every host in your Greenplum Database array (master and all segments). This location must also be in the <code><font face="Courier New, Courier, mono" size="2">LD_LIBRARY_PATH</font></code> so that the server can locate the files.
</font></p>
<a name="wp136309"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Examples
</b></font></h3>
<a name="wp141024"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
To create a conversion from encoding UTF8 to LATIN1 using myfunc:
</font></p>
<pre><font color="Black" face="Courier New, Courier, mono" size="2">CREATE CONVERSION myconv FOR &#39;UTF8&#39; TO &#39;LATIN1&#39; FROM myfunc;</font><a name="wp140856"> </a>
</pre>
<a name="wp134733"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
Compatibility
</b></font></h3>
<a name="wp141072"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
There is no <code><font face="Courier New, Courier, mono" size="2">CREATE CONVERSION</font></code> statement in the SQL standard.
</font></p>
<a name="wp140235"> </a><h3><font color="#8CC63F" face="Arial, Verdana, Helvetica, sans-serif" size="5"><b>
See Also
</b></font></h3>
<a name="wp140866"> </a><p><font color="Black" face="Arial, Verdana, Helvetica, sans-serif" size="2">
<a href="ALTER_CONVERSION.html">ALTER CONVERSION</a>, <a href="CREATE_FUNCTION.html">CREATE FUNCTION</a>, <a href="DROP_CONVERSION.html">DROP CONVERSION</a>
</font></p>
    <br>
    <hr color="#99CC33" align="left"> 

    <table width="157" border="0" align="right" cellpadding="0" cellspacing="0">
  <tr valign="top"> 
    <td width="157"  align="left"><p> 
        <font size="1"><font size="1"><font face="Arial, Helvetica, sans-serif">Greenplum Customer Support <br>
		
        1-866-410-6060
</font></font></font><font size="1"><font face="Arial, Helvetica, sans-serif"><br>
<a href="mailto://support@greenplum.com">support@greenplum.com
</a><br>
</font> </font> <font size="1"><a href="http://gpn.greenplum.com"><font face="Arial, Helvetica, sans-serif"> www.gpn.greenplum.com</font></a></font>  <font size="1"></font> <font size="1"></font> <font size="1"><br>
        </font> </p></td>
  </tr>
</table>
	

    


    <table width="250" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a href="CREATE_CAST.html"><img src="images/sprev.gif" border="0" alt="Previous"></a><a href="CREATE_DATABASE.html"><img src="images/snext.gif" border="0" alt="Next"></a><a href="IX.html"><img src="images/sindex.gif" border="0" alt="Index"></a>
        </td>
      </tr>
	  <tr> 
        <td>
          <p><strong><font color="#000000" size="1" face="Arial, Helvetica, sans-serif">Greenplum Database 3.3 SQL Reference</font></strong></p>
        </td>
      </tr>
	  <tr> 
        <td>
          <p><font size="1" face="Arial, Helvetica, sans-serif">Last Updated: February 17, 2009</font></p>
        </td>
      </tr>
    </table>
      
  </body>
</html>
